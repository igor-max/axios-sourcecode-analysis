<!DOCTYPE html>
<html>

<head>
  <title>axios - get example</title>
  <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
</head>

<body class="container">
  <h1>axios.get</h1>
  <ul id="people" class="list-unstyled"></ul>

  <script src="/dist/axios.min.js"></script>
  <script>
    // axios.interceptors.request.use(function (config) {
    //   config.headers['a'] = 'just test';
    //   return config;
    // });


    // const CancelToken = axios.CancelToken;
    // const source = CancelToken.source();

    // axios.get('/get/server', {
    //   cancelToken: source.token   // cancelToken is CancelToken instance
    // }).then(res => console.log(res)).catch(function (thrown) {
    //   if (axios.isCancel(thrown)) {
    //     console.log(thrown);
    //   } else {
    //     // handle error
    //     console.log(thrown)
    //   }
    // });

    // debugger;
    // source.cancel('手动取消请求');

    Promise.all([Promise.resolve(1), Promise.resolve(2)]).then(res => console.log(res));

    axios.all([Promise.resolve(1), Promise.resolve(2)]).then(axios.spread((a) => {
      console.log(a)
    }))

    function lala(cb) {
      return function(res) {
       return cb.apply(null, res)
      }
    }
      // axios
      //   .get('/get/server')
      //   .then(function (response) {
      //     document.getElementById('people').innerHTML = response.data
      //       .map(function (person) {
      //         return (
      //           '<li class="row">' +
      //           '<img src="https://avatars.githubusercontent.com/u/' +
      //           person.avatar +
      //           '?s=50" class="col-md-1"/>' +
      //           '<div class="col-md-3">' +
      //           '<strong>' +
      //           person.name +
      //           '</strong>' +
      //           '<div>Github: <a href="https://github.com/' +
      //           person.github +
      //           '" target="_blank">' +
      //           person.github +
      //           '</a></div>' +
      //           '<div>Twitter: <a href="https://twitter.com/' +
      //           person.twitter +
      //           '" target="_blank">' +
      //           person.twitter +
      //           '</a></div>' +
      //           '</div>' +
      //           '</li><br/>'
      //         );
      //       })
      //       .join('');
      //   })
      //   .catch(function (err) {
      //     document.getElementById('people').innerHTML =
      //       '<li class="text-danger">' + err.message + '</li>';
      //   });
  </script>
</body>

</html>